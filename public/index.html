<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Diffie</title>
  <link rel="icon" href="favicon.ico" type="image/x-icon">
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;500&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
</head>
<body>
  <div class="app-container">
    <header>
      <div class="logo">
        <i class="fas fa-code-compare"></i>
        <h1>Diffie</h1>
      </div>
      <div class="theme-toggle">
        <i class="fas fa-sun"></i>
        <div class="toggle-switch">
          <input type="checkbox" id="theme-toggle-checkbox">
          <label for="theme-toggle-checkbox"></label>
        </div>
        <i class="fas fa-moon"></i>
      </div>
    </header>

    <main>
      <div class="app-info">
        <h2>Simple File Diff Viewer</h2>
        <p>Compare files from server or upload your own files</p>
      </div>
      
      <div class="tabs">
        <button class="tab-btn active" data-tab="server-files">Server Files</button>
        <button class="tab-btn" data-tab="local-files">Local Files</button>
      </div>
      
      <div class="tab-content" id="server-files-tab">
        <div class="file-inputs">
          <div class="file-input-group">
            <label for="file1-path">File 1 Path:</label>
            <div class="input-with-icon">
              <i class="fas fa-file-code"></i>
              <input type="text" id="file1-path" placeholder="Enter path to first file">
            </div>
          </div>
          <div class="file-input-group">
            <label for="file2-path">File 2 Path:</label>
            <div class="input-with-icon">
              <i class="fas fa-file-code"></i>
              <input type="text" id="file2-path" placeholder="Enter path to second file">
            </div>
          </div>
          <button id="compare-server-btn" class="primary-btn">
            <i class="fas fa-code-compare"></i>
            Compare Files
          </button>
        </div>
      </div>
      
      <div class="tab-content hidden" id="local-files-tab">
        <div class="file-inputs">
          <div class="file-input-group">
            <label for="file1-upload">File 1 Path:</label>
            <div class="input-with-icon">
              <i class="fas fa-file-upload"></i>
              <div class="file-upload-wrapper">
                <input type="file" id="file1-upload" class="file-upload-input">
                <label for="file1-upload" class="file-upload-text">
                  <span id="file1-upload-name">Select first file</span>
                </label>
              </div>
            </div>
          </div>
          <div class="file-input-group">
            <label for="file2-upload">File 2 Path:</label>
            <div class="input-with-icon">
              <i class="fas fa-file-upload"></i>
              <div class="file-upload-wrapper">
                <input type="file" id="file2-upload" class="file-upload-input">
                <label for="file2-upload" class="file-upload-text">
                  <span id="file2-upload-name">Select second file</span>
                </label>
              </div>
            </div>
          </div>
          <button id="compare-local-btn" class="primary-btn">
            <i class="fas fa-code-compare"></i>
            Compare Files
          </button>
        </div>
      </div>

      <div class="diff-container">
        <div class="diff-header">
          <div class="file-info">
            <span id="file1-name">No file selected</span>
              <div class="compare-icon">
                <i class="fas fa-exchange-alt"></i>
              </div>
            <span id="file2-name">No file selected</span>
          </div>
          <div class="diff-controls">
            <button id="side-by-side-btn" class="control-btn active" title="Side by side view">
              <i class="fas fa-columns"></i>
            </button>
            <button id="unified-btn" class="control-btn" title="Unified view">
              <i class="fas fa-align-justify"></i>
            </button>
            <button id="word-wrap-btn" class="control-btn" title="Toggle word wrap">
              <i class="fas fa-text-width"></i>
            </button>
            <button id="line-numbers-btn" class="control-btn active" title="Hide line numbers">
              <i class="fas fa-list-ol"></i>
            </button>
            <button id="show-complete-btn" class="control-btn" title="Show complete files">
              <i class="fas fa-file-alt"></i>
            </button>
            <button id="share-btn" class="control-btn" title="Share this diff">
              <i class="fas fa-share-alt"></i>
            </button>
          </div>
        </div>
        
        <div class="diff-stats">
          <div class="stat-item additions">
            <i class="fas fa-plus-circle"></i>
            <span id="additions-count">0</span> additions
          </div>
          <div class="stat-item deletions">
            <i class="fas fa-minus-circle"></i>
            <span id="deletions-count">0</span> deletions
          </div>
          <div class="stat-item changes">
            <i class="fas fa-exchange-alt"></i>
            <span id="changes-count">0</span> changes
          </div>
        </div>

        <div class="diff-content-container">
          <div id="diff-content" class="side-by-side">
            <div class="loading-indicator hidden">
              <div class="spinner"></div>
              <p>Generating diff...</p>
            </div>
            <div class="empty-state">
              <i class="fas fa-code-compare"></i>
              <p>Select files above and click "Compare Files" to see the differences</p>
            </div>
            <div class="no-changes-state hidden">
              <i class="fas fa-equals"></i>
              <p>Files are identical. No differences found.</p>
            </div>
            <div class="diff-view hidden">
              <div class="filename-wrapper">
                <div class="filename-bar">
                  <div class="filename-container">
                    <span class="filename file1-filename"></span>
                    <div class="compare-icon">
                      <i class="fas fa-exchange-alt"></i>
                    </div>
                    <span class="filename file2-filename"></span>
                  </div>
                  <button class="toggle-filename-btn" title="Hide filename bar">
                    <i class="fas fa-chevron-up"></i>
                  </button>
                </div>
                <button class="persistent-toggle-btn" title="Show filename bar">
                  <i class="fas fa-chevron-down"></i>
                </button>
              </div>
              <div class="diff-view-content">
                <div class="file1-content"></div>
                <div class="file2-content"></div>
              </div>
            </div>
            <div class="unified-view hidden">
              <pre id="unified-diff"></pre>
            </div>
          </div>
        </div>
      </div>
    </main>

    <footer>
      <p id="app-footer">Diffie &copy; 2025 | A beautiful file diff viewer | Ankit Das</p>
    </footer>
  </div>

  <div id="error-toast" class="toast error-toast hidden">
    <div class="toast-content">
      <i class="fas fa-exclamation-circle"></i>
      <span id="error-message"></span>
    </div>
    <button class="toast-close">&times;</button>
  </div>

  <div id="success-toast" class="toast success-toast hidden">
    <div class="toast-content">
      <i class="fas fa-check-circle"></i>
      <span id="success-message"></span>
    </div>
    <button class="toast-close">&times;</button>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jsdiff/5.1.0/diff.min.js"></script>
  <script src="script.js"></script>
</body>
</html>